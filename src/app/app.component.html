<!-- <ion-app>
  <ion-router-outlet></ion-router-outlet>
</ion-app> -->

<ion-router-outlet id="main-content"></ion-router-outlet>

<!-- <ion-split-pane contentId="main-content"> -->
  <ion-menu contentId="main-content" menuId="myMenu" type="overlay">
    <ion-content>
      <ion-list class="ion-text-center main-header">
        <div align="center">
          <ion-avatar>
            <!-- <img src="{{image}}" /> -->
            <img src="assets/logo/logo_avatar.png" />
          </ion-avatar>
          <ion-label color="primary"><strong>
            {{username}} </strong>

            <p>
              <ion-text>{{mobile}} | {{loggeduser}}</ion-text>
            </p>
          </ion-label>
        </div>
      </ion-list>
      <!-- *ngIf="!page?.route" -->
      <!-- [autoHide]="false"  -->

      <div *ngFor="let page of appPages; let i = index"  >
        <ion-menu-toggle *ngIf="page.url" class="menu-items" >
          <ion-item
          [routerLink]="page.url"
          routerDirection="root"
          routerLinkActive="active"
          lines="none"
          color="secondary"
          detail="false"
          >
          <ion-icon slot="start" [ios]="page.icon + '-outline'" [md]="page.icon + '-sharp'"></ion-icon>
          <ion-label>{{page.title}}</ion-label>
          </ion-item>
        </ion-menu-toggle>

        <ion-item
        *ngIf="page.children?.length>0"
        (click)="page.open = !page.open"
        [class.active-parent]="page.open"
        lines="none"
        color="secondary"
        detail="false">
        <ion-icon *ngIf='!page.open' slot="end" name="chevron-forward-outline"></ion-icon>
        <ion-icon *ngIf='page.open' slot="end" name="chevron-down-outline"></ion-icon>
        <ion-icon slot="start" [ios]="page.icon + '-outline'" [md]="page.icon + '-sharp'"></ion-icon>
        <ion-label>{{page.title}}</ion-label>

        </ion-item>

        <ion-list *ngIf="page.open">
          <ion-menu-toggle class="sub-item">
            <ion-item
            class="ion-padding-start"
            lines="none"
            detail="false"
            *ngFor="let sub of page.children"
            [routerLink]="sub.url"
            routerDirection="root"
            routerLinkActive="active">
            <ion-icon slot="start" [ios]="sub.icon + '-outline'" [md]="sub.icon + '-sharp'"></ion-icon>
            <ion-label>{{sub.title}}</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>

        <ion-item
          *ngIf="page?.route"
          class="ion-padding-start"
          color="secondary"
          lines="none"
          detail="false"
          (click)="signOut()">
          <ion-icon slot="start" [ios]="page.icon + '-outline'" [md]="page.icon + '-sharp'"></ion-icon>
          <ion-label>{{page.title}}</ion-label>
        </ion-item>
       </div>
    </ion-content>

    <ion-footer class="ion-no-border">
      <ion-toolbar color="secondary">
        <ion-item lines="none" color="secondary">
          <ion-label>Reach us via</ion-label>
          <ion-icon slot="end" name="call-outline"></ion-icon>
          <ion-icon slot="end" name="mail-outline"></ion-icon>
          <ion-icon slot="end" name="logo-whatsapp"></ion-icon>
        </ion-item>
      </ion-toolbar>
    </ion-footer>
  </ion-menu>
  <ion-router-outlet id="main-content"></ion-router-outlet>
<!-- </ion-split-pane> -->

<!-- Global App Header -->
<app-header [title]="currentPageTitle"></app-header>
